---
import Layout from '@/layouts/Layout.astro';
import PageTemplate from '@/components/PageTemplate.astro';
import ExternalLink from '@/components/ExternalLink.astro';
import Subtitle from '@/components/Subtitle.astro';
import Skills from '@/components/Skills.astro';
import Projects from '@/components/Projects.astro';
import { getDictionary, type Locale } from '@/i18n/dictionaries';

export function getStaticPaths() {
  return [
    { params: { lang: 'fr' } },
    { params: { lang: 'en' } }
  ];
}

const { lang } = Astro.params as { lang: Locale };
const dictionary = getDictionary(lang);
---

<Layout title="Jérémy Gautrais • Portfolio" lang={lang}>
  <PageTemplate lang={lang}>
    <div class="flex flex-col text-start">
      <div class="ps-4 md:ps-8">
        <div class="flex items-center mb-3 md:mb-6">
          <img
            src="/images/profile.jpg"
            alt={dictionary.hero.profilePicAlt}
            class="block border border-gray-100 shadow-lg shadow-gray-400/50 mx-1 h-8 md:h-20 w-8 md:w-20 object-cover rounded-full me-2 md:me-4"
          />
          <h1 class="font-hero text-4xl md:text-7xl font-bold text-start pt-1.5 md:pt-3">Jérémy Gautrais</h1>
        </div>
        <h2 class="text-teal-500 text-xl md:text-4xl text-start">{dictionary.hero.job}</h2>
        <div class="mt-8 md:mt-10 flex">
          <ExternalLink icon="linkedin" text="LinkedIn" link="https://www.linkedin.com/in/jgautrais/" class="me-4" />
          <ExternalLink icon="github" text="Github" link="https://github.com/jgautrais" />
        </div>
        <a
          href={`/cv/CV_Jeremy_Gautrais${lang.toUpperCase()}.pdf`}
          target="_blank"
          rel="noreferrer"
          class="inline-block self-start text-sm md:text-base mt-4 md:mt-5 text-white hover:text-teal-50 bg-zinc-700 shadow-zinc-700/50 py-1.5 md:py-2 px-4 md:px-5 rounded-full hover:bg-teal-500 shadow-lg hover:shadow-md hover:shadow-teal-500/50 transition-all ease-in-out"
        >
          {dictionary.hero.resumeDownload}
        </a>
      </div>
      <div class="mt-16">
        <p class="max-w-xl ps-4 md:ps-8 text-start text-md sm:text-lg">{dictionary.hero.description}</p>
      </div>
      <div class="mt-24">
        <Subtitle title={dictionary.skills.title} />
        <Skills lang={lang} dictionary={dictionary} />
      </div>
      <div class="mt-28">
        <Subtitle title={dictionary.projects.title} />
        <Projects lang={lang} dictionary={dictionary} />
      </div>
    </div>
  </PageTemplate>
</Layout>
